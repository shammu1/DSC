{
  "$schema": "https://aka.ms/dsc/schemas/v3/bundled/resource/manifest.json",
  "type": "Microsoft.DSC/PythonAdapter",
  "version": "0.1.0",
  "kind": "adapter",
  "description": "Manages APT packages on Linux",
  "adapter": {
    "list": {
      "executable": "pwsh",
      "args": [
        "-NoLogo",
        "-NonInteractive",
        "-NoProfile",
        "-ExecutionPolicy",
        "Bypass",
        "-Command",
        "./psDscAdapter/powershell.resource.ps1 List"
      ]
    },
    "config": "full"
  },
  "get": {
    "executable": "python3",
    "args": [
      "adapter.py",
      "adapter",
      "--operation",
      "get",
      {
        "jsonInputArg": "--input",
        "mandatory": true
      },
      "--resource-type",
      "apt"
    ],
    "input": "stdin",
    "workingDirectory": "${manifestDir}/../../.."
  },
  "set": {
    "executable": "python3",
    "args": [
      "adapter.py",
      "adapter",
      "--operation",
      "set",
      {
        "jsonInputArg": "--input",
        "mandatory": true
      },
      "--resource-type",
      "apt"
    ],
    "implementsPretest": false,
    "input": "stdin",
    "return": "stateAndDiff",
    "workingDirectory": "${manifestDir}/../../.."
  },
  "delete": {
    "executable": "python3",
    "args": [
      "adapter.py",
      "adapter",
      "--operation",
      "delete",
      {
        "jsonInputArg": "--input",
        "mandatory": true
      },
      "--resource-type",
      "apt"
    ],
    "implementsPretest": false,
    "input": "stdin",
    "return": "state",
    "workingDirectory": "${manifestDir}/../../.."
  },
  "test": {
    "executable": "python3",
    "args": [
      "adapter.py",
      "adapter",
      "--operation",
      "test",
      {
        "jsonInputArg": "--input",
        "mandatory": true
      },
      "--resource-type",
      "apt"
    ],
    "input": "stdin",
    "return": "stateAndDiff",
    "workingDirectory": "${manifestDir}/../../.."
  },
  "export": {
    "executable": "python3",
    "args": [
      "adapter.py",
      "adapter",
      "--operation",
      "export",
      {
        "jsonInputArg": "--input",
        "mandatory": true
      },
      "--resource-type",
      "apt"
    ],
    "input": "stdin",
    "workingDirectory": "${manifestDir}/../../.."
  },
  "exitCodes": {
    "0": "Success",
    "1": "Error"
  },
  "schema": {
    "embedded": {
      "$schema": "https://json-schema.org/draft/2020-12/schema#",
      "title": "APT Packages Management",
      "description": "Manages APT Packages on Linux",
      "type": "object",
      "required": [ "name" ],
      "properties": {
        "name": {
          "type": "string",
          "title": "Name",
          "description": "Name of the APT package."
        },
        "version": {
          "type": "string",
          "title": "Version",
          "description": "Specific version of the package to install."
        },
        "_exist": {
          "type": "boolean",
          "title": "Exist",
          "description": "Whether the package should exist (installed) or not."
        },
        "source": {
          "type": "string",
          "title": "Source",
          "description": "APT source repository for the package."
        },
        "dependencies": {
          "type": "array",
          "title": "Dependencies",
          "items": {
            "type": "string"
          },
          "description": "List of dependent packages.",
          "readOnly": true
        }
      }
    }
  }
}